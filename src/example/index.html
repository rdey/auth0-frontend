<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Login</title>
  <meta name=viewport content="width=device-width">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Libre+Franklin:400,700" />
  <link rel="stylesheet" href="/styles/dist/login.css" />
</head>
<body>

  <button class="show-modal-btn is-hidden">Login&hellip;</button>

  <script src="https://cdn.auth0.com/js/lock/10.20/lock.min.js"></script>
  <script>
    var lock = new Auth0Lock('0h5K5VT0kJ6Zj5kBh5pF46YuPlBaziXR', 'redeye.eu.auth0.com',
    {
      auth: {
        redirectUrl: 'http://localhost:3000/callback',
        responseType: 'code',
        params: {
          scope: 'openid email' // Learn about scopes: https://auth0.com/docs/scopes
        }
      },
      theme: {
        logo: 'https://www.redeye.se/assets/new_assets/images/auth0/logo.svg',
        primaryColor: '#FC6F77'
      }
    });

    lock.show();
  </script>
  <script>
    // remove close button
    (function() {
      var el = document.querySelector('.auth0-lock-close-button');
      if(el) {
        el.parentNode.removeChild(el);
      }
    })();

    // modal box caller button
    (function() {
      var el = document.querySelector('.show-modal-btn');
      if(el) {
        el.addEventListener('click', function(e) {
          e.preventDefault();
          lock.show();
        }, true);

        lock.on('show', function() {
          el.classList.add('is-hidden');
        });

        lock.on('hide', function() {
          el.classList.remove('is-hidden');
        });
      }
    })();

    // prevent ios zoom on input focus
    (function() {
      if(!/iphone|ipod|ipad/i.test(window.navigator.userAgent)) {
        return;
      }
      document.addEventListener('mousedown', function(e) {
        if(e.target && e.target.classList.contains('auth0-lock-input')) {
          e.target.classList.add('do-ios-zoom-fix');
        }
      }, true);
      document.addEventListener('blur', function(e) {
        if(e.target && e.target.classList.contains('auth0-lock-input')) {
          e.target.classList.remove('do-ios-zoom-fix');
        }
      }, true);
    })();

    // (function() {
    //   lock.on('signin ready', function() {
    //     setTimeout(function() {
    //     var el = document.querySelector('.auth0-lock-input[name=username]');
    //     if(el) {
    //       el.value = '';
    //     }
    //   }, 1000);
    //   });
    // })();
  </script>

</body>
</html>
